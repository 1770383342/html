<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>键盘事件</title>
<script language="javascript">
function handle(oEvent){
	if(window.event){
		oEvent = window.event;
		//处理兼容性，获得事件对象
		//设置IE的charCode值
		//oEvent.charCode = (oEvent.type == "keypress") ? oEvent.keyCode : 0;
	}
	var oDiv = document.getElementById("display");
	//输出测试
	oDiv.innerHTML += oEvent.type + ": charCode:" + oEvent.charCode + "keyCode:" +oEvent.keyCode + "<br>";
}
window.onload = function(){
	var oTextArea = document.getElementsByTagName("textarea")[0];
	oTextArea.onkeypress = handle;
	oTextArea.onkeyup = handle;
	oTextArea.onkeypress = handle;
	}
	</script>
</head>

<body>
<textarea rows="4" cols="50"></textarea>
<div id="display"></div>
</body>
</html>
